# Ch7. Memory Management

- Frame : 메인 메모리에 고정된 크기의 블록

- Page : 디스크에 상주하는 메모리의 고정된 블록. 데이터의 페이지는 일시적으로 메인 메모리의 프레임에 복사된다.
- Segement : 디스크에 상주하는 메모리의 가변적인 블록. 메인 메모리의 지역으로 복사되거나 세그먼트가 페이지로 나눠져서 그 일부가 메인 메모리로 복사될 수 있다.

## 1. Memory Management Techniques

- **Fixed Partitioning** (고정분할) : 시스템 생성 시에 주기억 장치가 고정된 파티션으로 분할된다. 구현은 쉽다는 장점이 있지만 내부 단편화로인한 비효율적 사용이 된다는 단점이 있다.

  > 고정된 크기라는 말이 전부 크기가 똑같다는 말은 아니다. 전부 다 같거나 다를 수도 있다.

- **Dynamic Partitioning** (동적분할) : 파티션들이 동적으로 생성되며, 각 프로세스는 자신의 크기와 일치하는 크기의 파티션에 적재된다. 내부단편화가 없고 주기억장치를 효율적으로 사용할 수 있다는 장점이 있지만 외부 단편화가 발생하게 된다.

- **Simple Paging** (단순 페이징) : 주기억 장치는 균등 크기의 프레임으로 나뉜다. 그리고 프레임들 또한 균등 크기의 페이지로 나뉜다. 프로세스의 모든 페이지가 적재되어야 하며 이 페이지를 저장하는 프레임들이 연속적일 필요는 없다. 외부 단편화가 없다는 장점이 있지만 적은 양의 내부 단편화가 생긴다.

- **Simple Segmentation** (단순 세그먼테이션) : 각 프로세스가 여러 세그먼트로 나뉜다. 프로세스의 모든 세그먼트가 적재되어야 하며 이 세그먼트를 저장하는 동적 파티션들이 연속적일 필요는 없다. 내부단편화가 없다는 장점이 있지만 외부단편화가 발생하게 된다.

- **Virtual Memory Paging** (가상 메모리 페이징) : 단순 페이징과 비교해서 프로세스의 페이지를 전부다 적재할 필요가 없다. 필요한 페이지가 있을 때 마다 요청하여 불러 들인다. 외부단편화가 없지만 복잡한 메모리 관리로인한 오버헤드가 발생한다.

- **Virtual Memory Segmentation** (가상 메모리 세그멘테이션) : 단순 세그먼테이션과 비교하여 필요하지 않은 세그먼트는 불러들일 필요가 없고 필요할 때만 불러 들인다. 내부단편화가 없지만 가상 메모리 페이징과 같이 복잡한 메모리 관리로 인해 오버헤드가 발생한다.

<br/>

## 2. Placement Algorithms

#### 1. Best-fit

> 요구된 크기와 가장 가까운 크기의 블록을 선택한다. 일반적으로 성능이 제일 낮다.

#### 2. First-fit

> 메모리를 처음부터 검색하여 할당 가능한 블록이면 바로 할당해준다. 단순하기도 하지만 성능이 괜찮다.

#### 3. Next-fit

> **First-fit**과 다르게 이전 할당했던 블록 위치부터 탐색하여 할당 가능한 블록을 찾아 할당해준다. **First-fit**보다는 아쉬운 성능을 보인다.

#### 4. Buddy System

> 앞서 살펴 보았던 **Dynamic partitioning**, 동적분할을 활용한다. 모든 블록을 2의 진수로 분할하고 그와 가장 가까운 크기의 블록에 할당한다. (100K가 요구되었으면 128K 블록에 할당된다.)

<br/>

## 3. Paging

- 주기억 장치는 동일한 크기의 여러 프레임으로 나뉜다.
- 각 프로세스는 프레임과 동일한 길이를 가진 여러 페이지로 나뉜다.
- 연속적일 필요는 없지만 프로세스의 모든 페이지가 적재되어야 한다.
- 외부 단편화는 없지만 내부 단편화는 발생한다.
- **page table** : 논리적 주소를 물리적 주소로 변환시켜준다.(page number + offset -> frame number + offset)

<br/>

## 4. Segmentation

- 각 프로세스는 여러 세그먼트들로 나뉜다.

  > 길이는 매우 다양하다. 그리고 세그먼트 길이의 최대가 정해져있다.

- 논리적 주소는 세그먼트 숫자와 오프셋으로 구성되어 있다.
- 동적 파티셔닝과 유사하다.
- 내부 단편화는 없지만 외부 단편화가 발생한다.